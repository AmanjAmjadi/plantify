<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlantPal - Plant Identification & Care</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                        secondary: '#8ACFB7',
                        light: '#FFFFFF',
                        dark: '#181818',
                        success: '#4CAF50',
                        danger: '#F44336',
                        warning: '#FF9800',
                    }
                }
            }
        }
    </script>
    <style>
        /* Handle dark mode */
        .dark {
            color-scheme: dark;
        }
        .dark body {
            background-color: #181818;
            color: #e5e5e5;
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .plant-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .plant-card {
            transition: all 0.3s ease;
        }
        .tab-indicator {
            transition: transform 0.3s ease;
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: rgba(93, 92, 222, 0.5);
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(93, 92, 222, 0.7);
        }
        /* Notification badge */
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #F44336;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body class="bg-light dark:bg-dark flex flex-col min-h-screen">
    <!-- Header -->
    <header class="bg-white dark:bg-gray-900 shadow-md py-4">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-leaf text-primary text-2xl"></i>
                <h1 class="text-xl font-bold text-gray-800 dark:text-white">PlantPal</h1>
            </div>
            <div id="notifications" class="relative cursor-pointer">
                <i class="fas fa-bell text-gray-600 dark:text-gray-300 text-xl"></i>
                <div id="notificationBadge" class="notification-badge hidden">0</div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-6">
        <!-- Welcome Screen (initially visible) -->
        <div id="welcomeScreen" class="animate-fade-in bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 max-w-md mx-auto mt-10">
            <h2 class="text-xl font-bold text-gray-800 dark:text-white mb-4">Welcome to PlantPal</h2>
            <p class="text-gray-600 dark:text-gray-300 mb-4">
                Your personal plant identification and care assistant.
                Identify plants by taking photos, track your garden, and receive care reminders.
            </p>
            <button id="startApp" class="w-full bg-primary hover:bg-opacity-90 text-white font-bold py-2 px-4 rounded-lg transition duration-300">
                Get Started
            </button>
        </div>

        <!-- App Tabs (initially hidden) -->
        <div id="appContent" class="hidden animate-fade-in">
            <!-- Tabs navigation -->
            <div class="flex justify-around items-center bg-white dark:bg-gray-800 rounded-lg shadow-md mb-6 relative">
                <button class="tab-btn flex-1 py-4 px-2 text-center font-medium text-primary" data-tab="identify">
                    <i class="fas fa-camera block mx-auto mb-1"></i>
                    Identify
                </button>
                <button class="tab-btn flex-1 py-4 px-2 text-center font-medium text-gray-500 dark:text-gray-400" data-tab="search">
                    <i class="fas fa-search block mx-auto mb-1"></i>
                    Search
                </button>
                <button class="tab-btn flex-1 py-4 px-2 text-center font-medium text-gray-500 dark:text-gray-400" data-tab="garden">
                    <i class="fas fa-seedling block mx-auto mb-1"></i>
                    My Garden
                </button>
                <div class="tab-indicator absolute bottom-0 h-1 bg-primary rounded-t-lg" style="width: 33.33%; left: 0;"></div>
            </div>

            <!-- Tab content -->
            <div id="identify" class="tab-content animate-fade-in">
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6">
                    <h2 class="text-xl font-bold text-gray-800 dark:text-white mb-4">Identify a Plant</h2>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Take a photo or upload an image of a plant to identify it</p>
                    
                    <div class="flex flex-col space-y-4">
                        <button id="captureBtn" class="bg-primary hover:bg-opacity-90 text-white font-bold py-3 px-4 rounded-lg transition duration-300">
                            <i class="fas fa-camera mr-2"></i> Take a Photo
                        </button>
                        <div class="relative">
                            <input type="file" id="uploadInput" accept="image/*" class="hidden">
                            <button id="uploadBtn" class="w-full bg-white dark:bg-gray-700 border-2 border-primary text-primary dark:text-white font-bold py-3 px-4 rounded-lg transition duration-300">
                                <i class="fas fa-upload mr-2"></i> Upload Image
                            </button>
                        </div>
                    </div>

                    <div id="previewContainer" class="hidden mt-6">
                        <div class="relative">
                            <img id="imagePreview" class="w-full h-auto rounded-lg shadow-md" src="" alt="Plant preview">
                            <button id="cancelUpload" class="absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-600 transition duration-300">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <button id="identifyBtn" class="w-full mt-4 bg-success hover:bg-opacity-90 text-white font-bold py-2 px-4 rounded-lg transition duration-300">
                            <i class="fas fa-leaf mr-2"></i> Identify Plant
                        </button>
                    </div>

                    <div id="loadingIndicator" class="hidden mt-6 text-center">
                        <div class="inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"></div>
                        <p class="mt-4 text-gray-600 dark:text-gray-300">Identifying your plant...</p>
                    </div>
                </div>

                <div id="resultContainer" class="hidden bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
                    <h2 class="text-xl font-bold text-gray-800 dark:text-white mb-4">Identification Results</h2>
                    <div id="plantResult" class="space-y-4"></div>
                </div>
            </div>

            <div id="search" class="tab-content animate-fade-in hidden">
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6">
                    <h2 class="text-xl font-bold text-gray-800 dark:text-white mb-4">Search Plants</h2>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Search for plants by name to add to your garden</p>
                    
                    <div class="relative">
                        <input type="text" id="searchInput" class="w-full text-base px-4 py-3 pl-10 border border-gray-300 dark:border-gray-700 dark:bg-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" placeholder="Search for plants...">
                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                    
                    <div id="searchLoadingIndicator" class="hidden mt-6 text-center">
                        <div class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"></div>
                        <p class="mt-2 text-gray-600 dark:text-gray-300">Searching...</p>
                    </div>
                </div>

                <div id="searchResults" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
            </div>

            <div id="garden" class="tab-content animate-fade-in hidden">
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mb-6">
                    <h2 class="text-xl font-bold text-gray-800 dark:text-white mb-4">My Garden</h2>
                    <p class="text-gray-600 dark:text-gray-300 mb-4">Manage your saved plants and care reminders</p>
                    
                    <div id="emptyGarden" class="text-center py-8">
                        <i class="fas fa-seedling text-5xl text-gray-300 dark:text-gray-600 mb-4"></i>
                        <p class="text-gray-500 dark:text-gray-400">Your garden is empty. Identify or search for plants to add them here.</p>
                    </div>
                </div>

                <div id="gardenPlants" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
            </div>
        </div>

        <!-- Plant Detail Modal -->
        <div id="plantModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto mx-4">
                <div class="relative">
                    <img id="modalPlantImage" class="w-full h-48 object-cover rounded-t-lg" src="" alt="Plant image">
                    <button id="closeModal" class="absolute top-2 right-2 bg-black bg-opacity-50 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-opacity-70 transition duration-300">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="p-6">
                    <h2 id="modalPlantName" class="text-xl font-bold text-gray-800 dark:text-white mb-2"></h2>
                    <p id="modalPlantType" class="text-gray-600 dark:text-gray-400 mb-4"></p>
                    
                    <div class="mb-4">
                        <h3 class="font-bold text-gray-700 dark:text-gray-300 mb-2">Care Instructions</h3>
                        <div class="flex flex-wrap gap-3 mb-4">
                            <div class="flex items-center bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-full text-sm">
                                <i class="fas fa-tint mr-2"></i>
                                <span id="modalWaterNeeds"></span>
                            </div>
                            <div class="flex items-center bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 px-3 py-1 rounded-full text-sm">
                                <i class="fas fa-sun mr-2"></i>
                                <span id="modalSunNeeds"></span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="font-bold text-gray-700 dark:text-gray-300 mb-2">About this Plant</h3>
                        <div id="modalPlantDescription" class="text-gray-600 dark:text-gray-300 text-sm"></div>
                    </div>
                    
                    <div id="modalGardenActions" class="flex space-x-3">
                        <button id="addToGardenBtn" class="flex-1 bg-primary hover:bg-opacity-90 text-white font-bold py-2 px-4 rounded-lg transition duration-300">
                            <i class="fas fa-plus mr-2"></i> Add to Garden
                        </button>
                        <button id="removeFromGardenBtn" class="hidden flex-1 bg-danger hover:bg-opacity-90 text-white font-bold py-2 px-4 rounded-lg transition duration-300">
                            <i class="fas fa-trash mr-2"></i> Remove
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notifications Modal -->
        <div id="notificationsModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto mx-4">
                <div class="p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
                    <h2 class="text-xl font-bold text-gray-800 dark:text-white">Care Reminders</h2>
                    <button id="closeNotifications" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div id="notificationsList" class="p-4">
                    <div id="emptyNotifications" class="text-center py-8">
                        <i class="fas fa-bell-slash text-4xl text-gray-300 dark:text-gray-600 mb-4"></i>
                        <p class="text-gray-500 dark:text-gray-400">No care reminders at the moment.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white dark:bg-gray-900 shadow-inner py-4 mt-auto">
        <div class="container mx-auto px-4 text-center text-gray-600 dark:text-gray-400 text-sm">
            <p>&copy; 2023 PlantPal - Plant Identification & Care App</p>
        </div>
    </footer>

    <script>
        // Handle dark mode
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // App state
        const state = {
            apiKey: "2b10YcHzngO4p0I5CDccGCof3e", // PlantNet API key
            currentPlant: null,
            gardenPlants: [],
            notifications: [],
            searchResults: []
        };

        // DOM Elements
        const elements = {
            welcomeScreen: document.getElementById('welcomeScreen'),
            startApp: document.getElementById('startApp'),
            appContent: document.getElementById('appContent'),
            tabButtons: document.querySelectorAll('.tab-btn'),
            tabIndicator: document.querySelector('.tab-indicator'),
            tabContents: document.querySelectorAll('.tab-content'),
            captureBtn: document.getElementById('captureBtn'),
            uploadBtn: document.getElementById('uploadBtn'),
            uploadInput: document.getElementById('uploadInput'),
            previewContainer: document.getElementById('previewContainer'),
            imagePreview: document.getElementById('imagePreview'),
            cancelUpload: document.getElementById('cancelUpload'),
            identifyBtn: document.getElementById('identifyBtn'),
            loadingIndicator: document.getElementById('loadingIndicator'),
            searchInput: document.getElementById('searchInput'),
            searchResults: document.getElementById('searchResults'),
            searchLoadingIndicator: document.getElementById('searchLoadingIndicator'),
            resultContainer: document.getElementById('resultContainer'),
            plantResult: document.getElementById('plantResult'),
            gardenPlants: document.getElementById('gardenPlants'),
            emptyGarden: document.getElementById('emptyGarden'),
            plantModal: document.getElementById('plantModal'),
            closeModal: document.getElementById('closeModal'),
            modalPlantImage: document.getElementById('modalPlantImage'),
            modalPlantName: document.getElementById('modalPlantName'),
            modalPlantType: document.getElementById('modalPlantType'),
            modalPlantDescription: document.getElementById('modalPlantDescription'),
            modalWaterNeeds: document.getElementById('modalWaterNeeds'),
            modalSunNeeds: document.getElementById('modalSunNeeds'),
            addToGardenBtn: document.getElementById('addToGardenBtn'),
            removeFromGardenBtn: document.getElementById('removeFromGardenBtn'),
            notifications: document.getElementById('notifications'),
            notificationBadge: document.getElementById('notificationBadge'),
            notificationsModal: document.getElementById('notificationsModal'),
            closeNotifications: document.getElementById('closeNotifications'),
            notificationsList: document.getElementById('notificationsList'),
            emptyNotifications: document.getElementById('emptyNotifications'),
            garden: document.getElementById('garden')
        };

        // Initialize the app
        function initApp() {
            // Load saved data from localStorage
            loadSavedData();
            
            // Event listeners for welcome screen
            elements.startApp.addEventListener('click', () => {
                elements.welcomeScreen.classList.add('hidden');
                elements.appContent.classList.remove('hidden');
            });
            
            // Tab navigation
            elements.tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tabName = button.getAttribute('data-tab');
                    switchTab(tabName);
                });
            });
            
            // Identify tab events
            elements.captureBtn.addEventListener('click', initiateCapture);
            elements.uploadBtn.addEventListener('click', () => elements.uploadInput.click());
            elements.uploadInput.addEventListener('change', handleImageUpload);
            elements.cancelUpload.addEventListener('click', cancelUpload);
            elements.identifyBtn.addEventListener('click', identifyPlant);
            
            // Search tab events
            elements.searchInput.addEventListener('input', debounce(searchPlants, 500));
            
            // Plant modal events
            elements.closeModal.addEventListener('click', () => elements.plantModal.classList.add('hidden'));
            elements.addToGardenBtn.addEventListener('click', addToGarden);
            elements.removeFromGardenBtn.addEventListener('click', removeFromGarden);
            
            // Notification events
            elements.notifications.addEventListener('click', toggleNotifications);
            elements.closeNotifications.addEventListener('click', () => elements.notificationsModal.classList.add('hidden'));
            
            // Check for updates every minute
            setInterval(checkForUpdates, 60000);
            
            // If we have existing data, skip to the app
            const savedData = localStorage.getItem('plantPalData');
            if (savedData) {
                elements.welcomeScreen.classList.add('hidden');
                elements.appContent.classList.remove('hidden');
            }
        }

        // Switch between tabs
        function switchTab(tabName) {
            // Update tab buttons
            elements.tabButtons.forEach(btn => {
                if (btn.getAttribute('data-tab') === tabName) {
                    btn.classList.add('text-primary');
                    btn.classList.remove('text-gray-500', 'dark:text-gray-400');
                } else {
                    btn.classList.remove('text-primary');
                    btn.classList.add('text-gray-500', 'dark:text-gray-400');
                }
            });
            
            // Move tab indicator
            const activeIndex = Array.from(elements.tabButtons).findIndex(btn => btn.getAttribute('data-tab') === tabName);
            elements.tabIndicator.style.left = `${activeIndex * 33.33}%`;
            
            // Show active tab content
            elements.tabContents.forEach(content => {
                if (content.id === tabName) {
                    content.classList.remove('hidden');
                } else {
                    content.classList.add('hidden');
                }
            });
            
            // If switching to garden tab, refresh garden
            if (tabName === 'garden') {
                renderGarden();
            }
        }

        // Save API key and start app
        function saveApiKey() {
            const apiKey = elements.apiKeyInput.value.trim();
            if (!apiKey) {
                alert('Please enter a valid API key');
                return;
            }
            
            state.apiKey = apiKey;
            saveData();
            
            elements.apiKeyForm.classList.add('hidden');
            elements.appContent.classList.remove('hidden');
        }

        // Capture image with camera
        function initiateCapture() {
            // Request camera access and create input
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.capture = 'environment'; // Prefer back camera
            input.addEventListener('change', handleImageUpload);
            input.click();
        }

        // Handle image upload from file or camera
        function handleImageUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            // Show preview
            const reader = new FileReader();
            reader.onload = e => {
                elements.imagePreview.src = e.target.result;
                elements.previewContainer.classList.remove('hidden');
            };
            reader.readAsDataURL(file);
        }

        // Cancel image upload
        function cancelUpload() {
            elements.previewContainer.classList.add('hidden');
            elements.uploadInput.value = '';
            elements.imagePreview.src = '';
        }

        // Identify plant from image
        async function identifyPlant() {
            if (!elements.imagePreview.src) return;
            
            // Show loading indicator
            elements.previewContainer.classList.add('hidden');
            elements.loadingIndicator.classList.remove('hidden');
            elements.resultContainer.classList.add('hidden');
            
            try {
                // Get base64 image
                const base64Image = elements.imagePreview.src.split(',')[1];
                
                // Use PlantNet API to identify the plant
                const result = await identifyPlantWithAPI(base64Image);
                
                // Display results
                renderIdentificationResults(result);
            } catch (error) {
                console.error('Error identifying plant:', error);
                elements.plantResult.innerHTML = `
                    <div class="bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 p-4 rounded-lg">
                        <p>Error identifying plant. Please try again.</p>
                    </div>
                `;
                elements.resultContainer.classList.remove('hidden');
            } finally {
                elements.loadingIndicator.classList.add('hidden');
            }
        }

        // Search plants by name
        async function searchPlants() {
            const query = elements.searchInput.value.trim();
            if (query.length < 2) {
                elements.searchResults.innerHTML = '';
                return;
            }
            
            // Show loading indicator
            elements.searchLoadingIndicator.classList.remove('hidden');
            elements.searchResults.innerHTML = '';
            
            try {
                // Use database to search for plants
                const results = await searchPlantDatabase(query);
                state.searchResults = results;
                
                // Render search results
                renderSearchResults(results);
            } catch (error) {
                console.error('Error searching plants:', error);
                elements.searchResults.innerHTML = `
                    <div class="bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 p-4 rounded-lg col-span-full">
                        <p>Error searching plants. Please try again.</p>
                    </div>
                `;
            } finally {
                elements.searchLoadingIndicator.classList.add('hidden');
            }
        }

        // Add plant to garden
        function addToGarden() {
            const plant = state.currentPlant;
            if (!plant) return;
            
            // Check if plant is already in garden
            const existingIndex = state.gardenPlants.findIndex(p => p.id === plant.id);
            if (existingIndex !== -1) {
                alert('This plant is already in your garden');
                return;
            }
            
            // Add water and sunlight schedule
            plant.waterSchedule = generateWaterSchedule(plant.waterNeeds);
            plant.sunSchedule = generateSunSchedule(plant.sunNeeds);
            plant.lastWatered = new Date().toISOString();
            plant.lastSunCheck = new Date().toISOString();
            
            // Add to garden
            state.gardenPlants.push(plant);
            saveData();
            
            // Update UI
            elements.plantModal.classList.add('hidden');
            
            // If in garden tab, refresh garden
            if (!elements.garden.classList.contains('hidden')) {
                renderGarden();
            }
            
            // Show confirmation
            alert('Plant added to your garden!');
        }

        // Remove plant from garden
        function removeFromGarden() {
            const plant = state.currentPlant;
            if (!plant) return;
            
            // Remove from garden
            state.gardenPlants = state.gardenPlants.filter(p => p.id !== plant.id);
            saveData();
            
            // Update UI
            elements.plantModal.classList.add('hidden');
            
            // If in garden tab, refresh garden
            if (!elements.garden.classList.contains('hidden')) {
                renderGarden();
            }
        }

        // Show plant details in modal
        function showPlantDetails(plant, fromGarden = false) {
            state.currentPlant = plant;
            
            // Set modal content
            elements.modalPlantImage.src = plant.image;
            elements.modalPlantName.textContent = plant.name;
            elements.modalPlantType.textContent = plant.type;
            elements.modalPlantDescription.innerHTML = marked.parse(plant.description);
            elements.modalWaterNeeds.textContent = plant.waterNeeds;
            elements.modalSunNeeds.textContent = plant.sunNeeds;
            
            // Show/hide appropriate buttons
            if (fromGarden) {
                elements.addToGardenBtn.classList.add('hidden');
                elements.removeFromGardenBtn.classList.remove('hidden');
            } else {
                elements.addToGardenBtn.classList.remove('hidden');
                elements.removeFromGardenBtn.classList.add('hidden');
            }
            
            // Show modal
            elements.plantModal.classList.remove('hidden');
        }

        // Toggle notifications panel
        function toggleNotifications() {
            elements.notificationsModal.classList.toggle('hidden');
            
            // Clear notification badge
            elements.notificationBadge.classList.add('hidden');
            elements.notificationBadge.textContent = '0';
            
            // Reset notifications
            state.notifications.forEach(n => n.read = true);
            saveData();
            
            // Render notifications
            renderNotifications();
        }

        // Check for care updates
        function checkForUpdates() {
            const now = new Date();
            let newNotifications = 0;
            
            // Check each plant for care needs
            state.gardenPlants.forEach(plant => {
                const lastWatered = new Date(plant.lastWatered);
                const waterDays = plant.waterSchedule;
                const daysSinceWatered = Math.floor((now - lastWatered) / (1000 * 60 * 60 * 24));
                
                // Check if plant needs water
                if (daysSinceWatered >= waterDays) {
                    // Add notification
                    const notificationId = `water-${plant.id}-${now.getTime()}`;
                    const existingNotification = state.notifications.find(n => n.id === notificationId);
                    
                    if (!existingNotification) {
                        state.notifications.push({
                            id: notificationId,
                            type: 'water',
                            plantId: plant.id,
                            plantName: plant.name,
                            message: `Your ${plant.name} needs water`,
                            time: now.toISOString(),
                            read: false
                        });
                        newNotifications++;
                    }
                }
                
                // Check for sunlight needs (similar logic)
                const lastSunCheck = new Date(plant.lastSunCheck);
                const sunDays = plant.sunSchedule;
                const daysSinceSunCheck = Math.floor((now - lastSunCheck) / (1000 * 60 * 60 * 24));
                
                if (daysSinceSunCheck >= sunDays) {
                    const notificationId = `sun-${plant.id}-${now.getTime()}`;
                    const existingNotification = state.notifications.find(n => n.id === notificationId);
                    
                    if (!existingNotification) {
                        state.notifications.push({
                            id: notificationId,
                            type: 'sun',
                            plantId: plant.id,
                            plantName: plant.name,
                            message: `Check if your ${plant.name} is getting enough sunlight`,
                            time: now.toISOString(),
                            read: false
                        });
                        newNotifications++;
                    }
                }
            });
            
            // If we have new notifications, update the badge
            if (newNotifications > 0) {
                const unreadCount = state.notifications.filter(n => !n.read).length;
                elements.notificationBadge.textContent = unreadCount;
                elements.notificationBadge.classList.remove('hidden');
                saveData();
            }
        }

        // Mark plant as watered
        function markPlantWatered(plantId) {
            const plant = state.gardenPlants.find(p => p.id === plantId);
            if (plant) {
                plant.lastWatered = new Date().toISOString();
                saveData();
                
                // Remove related notifications
                state.notifications = state.notifications.filter(n => !(n.plantId === plantId && n.type === 'water'));
                
                // Update notifications
                renderNotifications();
                
                // If in garden tab, refresh garden
                if (!elements.garden.classList.contains('hidden')) {
                    renderGarden();
                }
            }
        }

        // Mark plant as sun-checked
        function markPlantSunChecked(plantId) {
            const plant = state.gardenPlants.find(p => p.id === plantId);
            if (plant) {
                plant.lastSunCheck = new Date().toISOString();
                saveData();
                
                // Remove related notifications
                state.notifications = state.notifications.filter(n => !(n.plantId === plantId && n.type === 'sun'));
                
                // Update notifications
                renderNotifications();
                
                // If in garden tab, refresh garden
                if (!elements.garden.classList.contains('hidden')) {
                    renderGarden();
                }
            }
        }

        // Render identification results
        function renderIdentificationResults(plant) {
            if (!plant) {
                elements.plantResult.innerHTML = `
                    <div class="bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 p-4 rounded-lg">
                        <p>Sorry, we couldn't identify this plant. Please try again with a clearer image.</p>
                    </div>
                `;
            } else {
                elements.plantResult.innerHTML = `
                    <div class="bg-white dark:bg-gray-700 rounded-lg shadow-md overflow-hidden">
                        <img src="${plant.image}" alt="${plant.name}" class="w-full h-48 object-cover">
                        <div class="p-4">
                            <h3 class="font-bold text-lg text-gray-800 dark:text-white">${plant.name}</h3>
                            <p class="text-gray-600 dark:text-gray-300 text-sm">${plant.type}</p>
                            
                            <div class="flex flex-wrap gap-2 mt-3">
                                <span class="bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full text-xs">
                                    <i class="fas fa-tint mr-1"></i> ${plant.waterNeeds}
                                </span>
                                <span class="bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 px-2 py-1 rounded-full text-xs">
                                    <i class="fas fa-sun mr-1"></i> ${plant.sunNeeds}
                                </span>
                            </div>
                            
                            <button class="view-details-btn w-full mt-4 bg-primary hover:bg-opacity-90 text-white text-sm font-bold py-2 px-3 rounded-lg transition duration-300">
                                View Details
                            </button>
                        </div>
                    </div>
                `;
                
                // Store current plant for later use
                state.currentPlant = plant;
                
                // Add event listener to view details button
                const detailsBtn = elements.plantResult.querySelector('.view-details-btn');
                detailsBtn.addEventListener('click', () => showPlantDetails(plant));
            }
            
            elements.resultContainer.classList.remove('hidden');
        }

        // Render search results
        function renderSearchResults(results) {
            if (!results || results.length === 0) {
                elements.searchResults.innerHTML = `
                    <div class="col-span-full bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 p-4 rounded-lg">
                        <p>No plants found. Try a different search term.</p>
                    </div>
                `;
                return;
            }
            
            elements.searchResults.innerHTML = results.map(plant => `
                <div class="plant-card bg-white dark:bg-gray-700 rounded-lg shadow-md overflow-hidden cursor-pointer" data-plant-id="${plant.id}">
                    <img src="${plant.image}" alt="${plant.name}" class="w-full h-40 object-cover">
                    <div class="p-4">
                        <h3 class="font-bold text-gray-800 dark:text-white">${plant.name}</h3>
                        <p class="text-gray-600 dark:text-gray-300 text-sm">${plant.type}</p>
                        
                        <div class="flex flex-wrap gap-2 mt-3">
                            <span class="bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full text-xs">
                                <i class="fas fa-tint mr-1"></i> ${plant.waterNeeds}
                            </span>
                            <span class="bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 px-2 py-1 rounded-full text-xs">
                                <i class="fas fa-sun mr-1"></i> ${plant.sunNeeds}
                            </span>
                        </div>
                    </div>
                </div>
            `).join('');
            
            // Add event listeners to plant cards
            document.querySelectorAll('.plant-card').forEach(card => {
                card.addEventListener('click', () => {
                    const plantId = card.getAttribute('data-plant-id');
                    const plant = state.searchResults.find(p => p.id === plantId);
                    if (plant) {
                        showPlantDetails(plant);
                    }
                });
            });
        }

        // Render garden
        function renderGarden() {
            if (state.gardenPlants.length === 0) {
                elements.emptyGarden.classList.remove('hidden');
                elements.gardenPlants.innerHTML = '';
                return;
            }
            
            elements.emptyGarden.classList.add('hidden');
            
            elements.gardenPlants.innerHTML = state.gardenPlants.map(plant => {
                const lastWatered = new Date(plant.lastWatered);
                const now = new Date();
                const daysSinceWatered = Math.floor((now - lastWatered) / (1000 * 60 * 60 * 24));
                const waterDays = plant.waterSchedule;
                const waterStatus = daysSinceWatered >= waterDays ? 'danger' : (daysSinceWatered >= waterDays - 1 ? 'warning' : 'good');
                
                const lastSunCheck = new Date(plant.lastSunCheck);
                const daysSinceSunCheck = Math.floor((now - lastSunCheck) / (1000 * 60 * 60 * 24));
                const sunDays = plant.sunSchedule;
                const sunStatus = daysSinceSunCheck >= sunDays ? 'danger' : (daysSinceSunCheck >= sunDays - 1 ? 'warning' : 'good');
                
                return `
                    <div class="plant-card bg-white dark:bg-gray-700 rounded-lg shadow-md overflow-hidden" data-plant-id="${plant.id}">
                        <div class="relative">
                            <img src="${plant.image}" alt="${plant.name}" class="w-full h-40 object-cover">
                            <div class="absolute bottom-0 right-0 flex space-x-1 m-2">
                                <button class="water-plant-btn bg-white dark:bg-gray-800 text-blue-500 rounded-full w-8 h-8 flex items-center justify-center shadow-md hover:bg-blue-100 dark:hover:bg-gray-700 transition duration-300" data-plant-id="${plant.id}">
                                    <i class="fas fa-tint ${waterStatus === 'danger' ? 'text-red-500' : (waterStatus === 'warning' ? 'text-yellow-500' : '')}"></i>
                                </button>
                                <button class="sun-check-btn bg-white dark:bg-gray-800 text-yellow-500 rounded-full w-8 h-8 flex items-center justify-center shadow-md hover:bg-yellow-100 dark:hover:bg-gray-700 transition duration-300" data-plant-id="${plant.id}">
                                    <i class="fas fa-sun ${sunStatus === 'danger' ? 'text-red-500' : (sunStatus === 'warning' ? 'text-yellow-500' : '')}"></i>
                                </button>
                            </div>
                        </div>
                        <div class="p-4">
                            <h3 class="font-bold text-gray-800 dark:text-white">${plant.name}</h3>
                            <p class="text-gray-600 dark:text-gray-300 text-sm">${plant.type}</p>
                            
                            <div class="flex justify-between items-center mt-3">
                                <div class="text-xs text-gray-500 dark:text-gray-400">
                                    <div class="flex items-center ${waterStatus === 'danger' ? 'text-red-500' : (waterStatus === 'warning' ? 'text-yellow-500' : 'text-blue-500')}">
                                        <i class="fas fa-tint mr-1"></i> 
                                        ${waterStatus === 'danger' ? 'Needs water now!' : (waterStatus === 'warning' ? 'Water soon' : 'Recently watered')}
                                    </div>
                                    <div class="flex items-center mt-1 ${sunStatus === 'danger' ? 'text-red-500' : (sunStatus === 'warning' ? 'text-yellow-500' : 'text-yellow-500')}">
                                        <i class="fas fa-sun mr-1"></i> 
                                        ${sunStatus === 'danger' ? 'Check sunlight now!' : (sunStatus === 'warning' ? 'Check sun soon' : 'Sunlight OK')}
                                    </div>
                                </div>
                                <button class="view-garden-plant-btn bg-primary hover:bg-opacity-90 text-white text-sm font-bold py-1 px-3 rounded-lg transition duration-300">
                                    Details
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            // Add event listeners
            elements.gardenPlants.querySelectorAll('.view-garden-plant-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const plantId = e.target.closest('.plant-card').getAttribute('data-plant-id');
                    const plant = state.gardenPlants.find(p => p.id === plantId);
                    if (plant) {
                        showPlantDetails(plant, true);
                    }
                });
            });
            
            elements.gardenPlants.querySelectorAll('.water-plant-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const plantId = btn.getAttribute('data-plant-id');
                    markPlantWatered(plantId);
                });
            });
            
            elements.gardenPlants.querySelectorAll('.sun-check-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const plantId = btn.getAttribute('data-plant-id');
                    markPlantSunChecked(plantId);
                });
            });
        }

        // Render notifications
        function renderNotifications() {
            if (state.notifications.length === 0) {
                elements.emptyNotifications.classList.remove('hidden');
                elements.notificationsList.innerHTML = '';
                return;
            }
            
            elements.emptyNotifications.classList.add('hidden');
            
            // Sort notifications by time (newest first)
            const sortedNotifications = [...state.notifications].sort((a, b) => new Date(b.time) - new Date(a.time));
            
            elements.notificationsList.innerHTML = sortedNotifications.map(notification => {
                const time = new Date(notification.time);
                const formattedTime = time.toLocaleDateString() + ' ' + time.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                
                return `
                    <div class="notification-item bg-white dark:bg-gray-700 rounded-lg shadow-sm p-3 mb-3 ${notification.read ? '' : 'border-l-4 border-primary'}">
                        <div class="flex items-start">
                            <div class="flex-shrink-0 mr-3">
                                <i class="fas ${notification.type === 'water' ? 'fa-tint text-blue-500' : 'fa-sun text-yellow-500'} text-lg"></i>
                            </div>
                            <div class="flex-grow">
                                <h4 class="font-medium text-gray-800 dark:text-white">${notification.message}</h4>
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">${formattedTime}</p>
                            </div>
                            <button class="care-action-btn flex-shrink-0 bg-primary hover:bg-opacity-90 text-white text-xs font-medium py-1 px-2 rounded transition duration-300" 
                                    data-plant-id="${notification.plantId}" 
                                    data-type="${notification.type}">
                                ${notification.type === 'water' ? 'Water Now' : 'Check Sun'}
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
            
            // Add event listeners to buttons
            elements.notificationsList.querySelectorAll('.care-action-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const plantId = btn.getAttribute('data-plant-id');
                    const type = btn.getAttribute('data-type');
                    
                    if (type === 'water') {
                        markPlantWatered(plantId);
                    } else if (type === 'sun') {
                        markPlantSunChecked(plantId);
                    }
                });
            });
        }

        // Generate water schedule based on plant needs
        function generateWaterSchedule(waterNeeds) {
            switch (waterNeeds.toLowerCase()) {
                case 'daily':
                    return 1;
                case 'frequently':
                case 'high':
                    return 2;
                case 'moderate':
                case 'medium':
                    return 4;
                case 'low':
                case 'infrequently':
                    return 7;
                case 'very low':
                case 'rarely':
                    return 14;
                default:
                    return 3; // Default to moderate
            }
        }

        // Generate sun schedule based on plant needs
        function generateSunSchedule(sunNeeds) {
            switch (sunNeeds.toLowerCase()) {
                case 'full sun':
                case 'direct sun':
                    return 1; // Check daily
                case 'partial sun':
                case 'medium light':
                    return 2; // Check every other day
                case 'indirect light':
                case 'partial shade':
                    return 3; // Check every 3 days
                case 'shade':
                case 'low light':
                    return 5; // Check every 5 days
                default:
                    return 2; // Default to every other day
            }
        }

        // Utility function to debounce function calls
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Save app data using localStorage
        function saveData() {
            const data = {
                apiKey: state.apiKey,
                gardenPlants: state.gardenPlants,
                notifications: state.notifications
            };
            
            try {
                localStorage.setItem('plantPalData', JSON.stringify(data));
            } catch (err) {
                console.error("Error saving data:", err);
            }
        }

        // Load saved data from localStorage
        function loadSavedData() {
            try {
                const savedData = localStorage.getItem('plantPalData');
                if (savedData) {
                    const data = JSON.parse(savedData);
                    if (data.gardenPlants) state.gardenPlants = data.gardenPlants;
                    if (data.notifications) state.notifications = data.notifications;
                    
                    // Update notification badge if there are unread notifications
                    const unreadCount = state.notifications.filter(n => !n.read).length;
                    if (unreadCount > 0) {
                        elements.notificationBadge.textContent = unreadCount;
                        elements.notificationBadge.classList.remove('hidden');
                    }
                }
            } catch (err) {
                console.error("Error loading data:", err);
                // Initialize with empty data if loading fails
                state.gardenPlants = [];
                state.notifications = [];
            }
        }

        // Use PlantNet API to identify plants
        async function identifyPlantWithAPI(base64Image) {
            try {
                // Convert base64 to blob
                const byteCharacters = atob(base64Image);
                const byteNumbers = new Array(byteCharacters.length);
                for (let i = 0; i < byteCharacters.length; i++) {
                    byteNumbers[i] = byteCharacters.charCodeAt(i);
                }
                const byteArray = new Uint8Array(byteNumbers);
                const blob = new Blob([byteArray], { type: 'image/jpeg' });
                
                // Create FormData
                const formData = new FormData();
                formData.append('images', blob, 'plant.jpg');
                
                // Call PlantNet API
                const response = await fetch(`https://my-api.plantnet.org/v2/identify/all?api-key=${state.apiKey}`, {
                    method: 'POST',
                    body: formData
                });
                
                const data = await response.json();
                
                if (!response.ok) {
                    throw new Error(data.message || 'Error identifying plant');
                }
                
                if (data.results && data.results.length > 0) {
                    // Get the best match (first result)
                    const bestMatch = data.results[0];
                    
                    // Create plant object
                    return {
                        id: `plant-${Date.now()}`,
                        name: bestMatch.species.scientificNameWithoutAuthor,
                        commonNames: bestMatch.species.commonNames || [],
                        type: bestMatch.species.family.scientificNameWithoutAuthor || 'Unknown Family',
                        image: bestMatch.images[0].url.m || bestMatch.images[0].url.o,
                        description: `${bestMatch.species.scientificNameWithoutAuthor} (${bestMatch.species.commonNames?.join(', ') || 'No common name'}) is a plant in the ${bestMatch.species.family.scientificNameWithoutAuthor} family.`,
                        waterNeeds: determineWaterNeeds(bestMatch.species.family.scientificNameWithoutAuthor),
                        sunNeeds: determineSunNeeds(bestMatch.species.family.scientificNameWithoutAuthor),
                        score: bestMatch.score
                    };
                } else {
                    return null; // No matches found
                }
            } catch (error) {
                console.error('PlantNet API error:', error);
                return null;
            }
        }
        
        // Search plant database (fallback to sample data for now)
        async function searchPlantDatabase(query) {
            try {
                // In a production app, you would use a real plant database API
                // As a fallback, we'll use sample data here
                const samplePlants = getAllSamplePlants();
                return samplePlants.filter(plant => 
                    plant.name.toLowerCase().includes(query.toLowerCase()) || 
                    plant.type.toLowerCase().includes(query.toLowerCase())
                );
            } catch (error) {
                console.error('Error searching plants:', error);
                return [];
            }
        }
        
        // Determine water needs based on plant family (simplified)
        function determineWaterNeeds(family) {
            // This is a simplified mapping - in a real app, you would have more accurate data
            const waterNeedsMap = {
                'Cactaceae': 'Very Low',
                'Aizoaceae': 'Low',
                'Crassulaceae': 'Low',
                'Poaceae': 'Medium',
                'Asteraceae': 'Medium',
                'Araceae': 'Medium to High',
                'Orchidaceae': 'Medium',
                'Arecaceae': 'Medium',
                'Rosaceae': 'Medium',
                'Fabaceae': 'Medium',
                'Cyperaceae': 'High',
                'Zingiberaceae': 'High'
            };
            
            return waterNeedsMap[family] || 'Medium';
        }
        
        // Determine sunlight needs based on plant family (simplified)
        function determineSunNeeds(family) {
            // This is a simplified mapping - in a real app, you would have more accurate data
            const sunNeedsMap = {
                'Cactaceae': 'Full Sun',
                'Aizoaceae': 'Full Sun',
                'Crassulaceae': 'Bright Indirect',
                'Poaceae': 'Full to Partial Sun',
                'Asteraceae': 'Full Sun',
                'Araceae': 'Indirect Light',
                'Orchidaceae': 'Indirect Light',
                'Arecaceae': 'Bright Indirect',
                'Rosaceae': 'Full Sun',
                'Fabaceae': 'Full to Partial Sun',
                'Cyperaceae': 'Partial Shade',
                'Zingiberaceae': 'Indirect Light'
            };
            
            return sunNeedsMap[family] || 'Bright Indirect';
        }

        // Sample plant data for demo
        function getSamplePlants() {
            return [
                {
                    id: 'plant1',
                    name: 'Peace Lily',
                    type: 'Spathiphyllum',
                    image: 'https://cdn.jsdelivr.net/gh/LucioPg/plant-images/peace-lily.jpg',
                    description: 'The Peace Lily is a popular indoor plant known for its elegant white flowers and glossy dark green leaves. It is relatively easy to care for and can thrive in low light conditions.',
                    waterNeeds: 'Medium',
                    sunNeeds: 'Indirect Light',
                    waterSchedule: 5,
                    sunSchedule: 3,
                    lastWatered: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(), // 2 days ago
                    lastSunCheck: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString() // 1 day ago
                },
                {
                    id: 'plant2',
                    name: 'Snake Plant',
                    type: 'Sansevieria',
                    image: 'https://cdn.jsdelivr.net/gh/LucioPg/plant-images/snake-plant.jpg',
                    description: 'The Snake Plant is virtually indestructible and perfect for beginners. It can survive low light levels and irregular watering. NASA research has shown it helps purify indoor air.',
                    waterNeeds: 'Low',
                    sunNeeds: 'Low Light',
                    waterSchedule: 10,
                    sunSchedule: 5,
                    lastWatered: new Date(Date.now() - 9 * 24 * 60 * 60 * 1000).toISOString(), // 9 days ago
                    lastSunCheck: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString() // 5 days ago
                }
            ];
        }

        // Sample plant identification result
        function getSamplePlantIdentification() {
            return {
                id: 'plant3',
                name: 'Monstera Deliciosa',
                type: 'Swiss Cheese Plant',
                image: 'https://cdn.jsdelivr.net/gh/LucioPg/plant-images/monstera.jpg',
                description: 'Monstera Deliciosa, also known as the Swiss Cheese Plant, is famous for its large, glossy, perforated leaves. It\'s a tropical plant native to the rainforests of Central America.\n\n' +
                            '- Origin: Southern Mexico and Panama\n' +
                            '- Growth: Can reach heights of 10-15 feet indoors\n' +
                            '- Features: Distinctive split and holed leaves that develop as the plant matures',
                waterNeeds: 'Medium',
                sunNeeds: 'Indirect Light',
                waterSchedule: 4,
                sunSchedule: 2
            };
        }

        // Sample plants for search results
        function getAllSamplePlants() {
            return [
                {
                    id: 'plant1',
                    name: 'Peace Lily',
                    type: 'Spathiphyllum',
                    image: 'https://cdn.jsdelivr.net/gh/LucioPg/plant-images/peace-lily.jpg',
                    description: 'The Peace Lily is a popular indoor plant known for its elegant white flowers and glossy dark green leaves. It is relatively easy to care for and can thrive in low light conditions.',
                    waterNeeds: 'Medium',
                    sunNeeds: 'Indirect Light'
                },
                {
                    id: 'plant2',
                    name: 'Snake Plant',
                    type: 'Sansevieria',
                    image: 'https://cdn.jsdelivr.net/gh/LucioPg/plant-images/snake-plant.jpg',
                    description: 'The Snake Plant is virtually indestructible and perfect for beginners. It can survive low light levels and irregular watering. NASA research has shown it helps purify indoor air.',
                    waterNeeds: 'Low',
                    sunNeeds: 'Low Light'
                },
                {
                    id: 'plant3',
                    name: 'Monstera Deliciosa',
                    type: 'Swiss Cheese Plant',
                    image: 'https://cdn.jsdelivr.net/gh/LucioPg/plant-images/monstera.jpg',
                    description: 'Monstera Deliciosa, also known as the Swiss Cheese Plant, is famous for its large, glossy, perforated leaves. It\'s a tropical plant native to the rainforests of Central America.',
                    waterNeeds: 'Medium',
                    sunNeeds: 'Indirect Light'
                },
                {
                    id: 'plant4',
                    name: 'Fiddle Leaf Fig',
                    type: 'Ficus Lyrata',
                    image: 'https://cdn.jsdelivr.net/gh/LucioPg/plant-images/fiddle-leaf-fig.jpg',
                    description: 'The Fiddle Leaf Fig is a popular indoor tree with large, violin-shaped leaves. It can be a bit challenging to care for but rewards with stunning foliage.',
                    waterNeeds: 'Medium',
                    sunNeeds: 'Bright Indirect Light'
                },
                {
                    id: 'plant5',
                    name: 'Pothos',
                    type: 'Epipremnum Aureum',
                    image: 'https://cdn.jsdelivr.net/gh/LucioPg/plant-images/pothos.jpg',
                    description: 'Pothos is one of the easiest houseplants to grow. It features heart-shaped leaves and trailing vines that can grow quite long. Perfect for hanging baskets and shelves.',
                    waterNeeds: 'Low to Medium',
                    sunNeeds: 'Low to Bright Indirect'
                },
                {
                    id: 'plant6',
                    name: 'Aloe Vera',
                    type: 'Aloe Barbadensis Miller',
                    image: 'https://cdn.jsdelivr.net/gh/LucioPg/plant-images/aloe-vera.jpg',
                    description: 'Aloe Vera is a succulent plant known for its medicinal properties. The gel inside its leaves can help soothe burns and skin irritations.',
                    waterNeeds: 'Low',
                    sunNeeds: 'Bright Indirect to Direct'
                },
                {
                    id: 'plant7',
                    name: 'Rubber Plant',
                    type: 'Ficus Elastica',
                    image: 'https://cdn.jsdelivr.net/gh/LucioPg/plant-images/rubber-plant.jpg',
                    description: 'The Rubber Plant features large, glossy leaves and is fairly easy to care for. It can grow into a tall indoor tree with proper care.',
                    waterNeeds: 'Medium',
                    sunNeeds: 'Medium to Bright Indirect'
                },
                {
                    id: 'plant8',
                    name: 'ZZ Plant',
                    type: 'Zamioculcas Zamiifolia',
                    image: 'https://cdn.jsdelivr.net/gh/LucioPg/plant-images/zz-plant.jpg',
                    description: 'The ZZ Plant is extremely hardy and can tolerate neglect, low light, and infrequent watering. Its glossy leaves add a touch of elegance to any space.',
                    waterNeeds: 'Low',
                    sunNeeds: 'Low to Bright Indirect'
                }
            ];
        }

        // Initialize app when loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
